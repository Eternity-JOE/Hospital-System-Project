-- =====================================================
-- 医生表
-- 作者：白轩宇（Member B）
-- 日期：2025-12-23
-- 说明：医生基本信息表，用于挂号时选择医生
-- =====================================================

-- 医生表
CREATE TABLE IF NOT EXISTS `sys_doctor` (
    `id` INT AUTO_INCREMENT PRIMARY KEY COMMENT '医生ID',
    `name` VARCHAR(50) NOT NULL COMMENT '医生姓名',
    `gender` TINYINT DEFAULT 1 COMMENT '性别：1-男，2-女',
    `title` VARCHAR(50) DEFAULT NULL COMMENT '职称（主任医师/副主任医师/主治医师等）',
    `department_id` INT NOT NULL COMMENT '所属科室ID',
    `phone` VARCHAR(20) DEFAULT NULL COMMENT '联系电话',
    `specialty` VARCHAR(255) DEFAULT NULL COMMENT '擅长领域',
    `schedule` VARCHAR(255) DEFAULT NULL COMMENT '排班时间，格式：1,3,4,6,7 表示周一三四六日上班',
    `status` TINYINT DEFAULT 1 COMMENT '状态：1-在职，0-离职',
    `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `update_time` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    INDEX `idx_department` (`department_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='医生表';

-- =====================================================
-- 初始化测试数据
-- 每个科室至少有主任医师、副主任医师、主治医师各一名
-- 科室ID: 1-内科, 2-外科, 3-儿科, 4-妇产科, 5-急诊科, 6-眼科, 7-口腔科, 8-皮肤科
-- 擅长领域与关联病种对应
-- =====================================================

INSERT INTO `sys_doctor` (`name`, `gender`, `title`, `department_id`, `phone`, `specialty`, `status`) VALUES
-- 内科 (department_id = 1)
('张建国', 1, '主任医师', 1, '13900000001', '高血压、冠心病、糖尿病', 1),
('李秀英', 2, '副主任医师', 1, '13900000002', '肺炎、支气管炎、高血压', 1),
('王明华', 1, '主治医师', 1, '13900000003', '糖尿病、胃炎、冠心病', 1),

-- 外科 (department_id = 2)
('王医生', 1, '主治医师', 2, '13900000004', '骨折、关节炎', 1),
('赵志强', 1, '主任医师', 2, '13900000005', '阑尾炎、疝气、胆囊炎', 1),
('孙丽娟', 2, '副主任医师', 2, '13900000006', '胆囊炎、阑尾炎、疝气', 1),

-- 儿科 (department_id = 3)
('陈小明', 1, '主任医师', 3, '13900000007', '小儿肺炎、小儿感冒、小儿发热', 1),
('刘芳芳', 2, '副主任医师', 3, '13900000008', '小儿腹泻、手足口病、小儿感冒', 1),
('杨晓燕', 2, '主治医师', 3, '13900000009', '小儿感冒、小儿发热、小儿肺炎', 1),

-- 妇产科 (department_id = 4)
('周美玲', 2, '主任医师', 4, '13900000010', '产前检查、子宫肌瘤、不孕症', 1),
('吴静怡', 2, '副主任医师', 4, '13900000011', '子宫肌瘤、月经不调、不孕症', 1),
('郑雅琴', 2, '主治医师', 4, '13900000012', '妇科炎症、月经不调、产前检查', 1),

-- 急诊科 (department_id = 5)
('黄伟强', 1, '主任医师', 5, '13900000013', '心梗、脑卒中、急性腹痛', 1),
('林志远', 1, '副主任医师', 5, '13900000014', '外伤、中毒、急性腹痛', 1),
('徐海涛', 1, '主治医师', 5, '13900000015', '急性腹痛、外伤、心梗', 1),

-- 眼科 (department_id = 6)
('马光明', 1, '主任医师', 6, '13900000016', '白内障、青光眼、近视', 1),
('胡晓红', 2, '副主任医师', 6, '13900000017', '青光眼、结膜炎、干眼症', 1),
('高志华', 1, '主治医师', 6, '13900000018', '近视、结膜炎、白内障', 1),

-- 口腔科 (department_id = 7)
('罗建华', 1, '主任医师', 7, '13900000019', '智齿、龋齿、牙齿矫正', 1),
('谢丽萍', 2, '副主任医师', 7, '13900000020', '牙周炎、口腔溃疡、龋齿', 1),
('唐志刚', 1, '主治医师', 7, '13900000021', '龋齿、牙齿矫正、牙周炎', 1),

-- 皮肤科 (department_id = 8)
('曹美华', 2, '主任医师', 8, '13900000022', '带状疱疹、湿疹、荨麻疹', 1),
('邓晓峰', 1, '副主任医师', 8, '13900000023', '荨麻疹、皮肤过敏、湿疹', 1),
('冯雪梅', 2, '主治医师', 8, '13900000024', '痤疮、皮肤过敏、带状疱疹', 1);
